[{"categories":["æŠ€è¡“"],"contents":"ãƒ–ãƒ­ã‚°æ›¸ã‹ãªã•ã™ãã¦æ¯å›hugoã®ä½¿ã„æ–¹å¿˜ã‚ŒãŸã€‚ ãŠä¹…ã—ã¶ã‚Šã§ã™ã€‚é…å±ã•ã‚Œã¦ï¼‘å¹´ã¨ï¼’ãƒ¶æœˆï¼ˆï¼Ÿï¼‰çµŒã¡ã€å¾®å¦™ã«ä»•äº‹ãŒå¢—ãˆã¦ãã¦ã“ã“æœ€è¿‘ã¯ã€Œã¤ã‚‰ãƒ¼ï¼ˆï¼ï¼œï¼‰ã€ã£ã¦æ„Ÿã˜ã®æ¯æ—¥ã§ã™ã€ã€ã§ã™ãŒã€ãªã‚“ã¨ã‹æ¥½ã—ãã‚„ã£ã¦ãŠã‚Šã¾ã™ã€‚\nï¼”æœˆã«å—é¨“ã—5%è¶³ã‚‰ãšä¸åˆæ ¼ã¨ãªã£ãŸCKAï¼ˆCertifiedKubernetesAdministratorï¼‰ã‚’å†å—é¨“ã—ã¾ã—ãŸã€‚\nCKAã¨ã¯ã€ã‚³ãƒ³ãƒ†ãƒŠã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã€ŒKubernetesã€ã®è©¦é¨“ã®ä¸€ã¤ã§ã€ãƒãƒ³ã‚ºã‚ªãƒ³å¼ã®å•é¡Œç´„20å•ã‚’ï¼’æ™‚é–“ã§è§£ãè©¦é¨“ã§ã™ã€‚ï¼ˆkwsk https://www.cncf.io/certification/cka/ï¼‰ åŒã˜è©¦é¨“ã§ã€CKADï¼ˆKubernetes Certified Application Developerï¼‰ã¨ã„ã†ã®ãŒã‚ã‚Šã¾ã™ãŒã€CKADã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºè€…è¦–ç‚¹ã®å•é¡ŒãŒå‡ºé¡Œã•ã‚Œã‚‹ã®ã«å¯¾ã—ã€CKAã¯ç®¡ç†è€…è¦–ç‚¹ã®å•é¡ŒãŒå‡ºé¡Œã•ã‚Œã¾ã™ã€‚\nãã‚“ãªè©¦é¨“ã‚’å†å—é¨“ã—ãŸã®ã§ã™ãŒã€ãªã‚“ã¨ã‹åˆæ ¼ã§ãã¾ã—ãŸã€‚\nï¼”æœˆã«ä¸åˆæ ¼ã«ãªã£ã¦ã‹ã‚‰ä½•ã‚’ã—ãŸã®ã‹ã€ãªã‚“ã§ã—ãŸã®ã‹etcã‚’ã€ã‚†ã‚‹ãã»ã¼æ™‚ç³»åˆ—ã§æ®‹ã—ã¦ãŠããŸã„ã¨æ€ã„ã¾ã™ã€‚è‡ªåˆ†ã®è¨˜éŒ²ä»£ã‚ã‚Šã«ä½™è«‡ã‚‚å…¥ã‚Œã¾ãã£ã¦ã„ã¾ã™ãŒã€ã”å®¹èµ¦ãã ã•ã„ã€‚\nä½•ã‚’ã—ãŸã®ã‹ ï¼”æœˆ ä¸åˆæ ¼ã€‚ã»ã¼è™šç„¡ã€‚å¤šåˆ†æ–°ã—ã„ä»•äº‹ãŒå§‹ã¾ã£ã¦å¿™ã—ãã¦Kubernetesä½•ã‚‚ã—ã¦ã„ãªã„ã€‚\n5æœˆ ã€Œå†å—é¨“ã—ãªãã‚ƒã€ã¨æ€ã„ãªãŒã‚‰ä½•ã‚‚ã—ãªã‹ã£ãŸã€‚Talendã«æ„Ÿå‹•ã—ã¦æˆ¯ã‚Œã¦ãŸã€‚\nãŠçµµæãã ã„ã¶æã‘ã‚‹ã‚ˆã†ã«ãªã£ãŸï¼ˆTalendï¼‰ pic.twitter.com/UOWS4QxE0Q\n\u0026mdash; ï¼”ï¼–ï¼— (@srn221B) May 5, 2021  minikubeã§ã‚¯ãƒ©ã‚¹ã‚¿ãŸã¦ã¦ã€Talendã§ä½¿ã†ãŸã‚ã®Pod/Serviceç«‹ã¦ã¦ã„ãŸãã‚‰ã„ã€‚ 6æœˆ è‚©ã“ã‚ŠãŒã‚„ã°ããªã£ã¦ã€å¥åº·ã®ãŸã‚ã«æ­©ã„ã¦ã„ãŸã€‚ã‚ã¨ã€ã‚ã£ã¡ã‚ƒæ¹¯èˆ¹æµ¸ã‹ã£ãŸï¼ˆæ²»ã£ãŸï¼‰\nå®Ÿç¸¾è§£é™¤ï¼šå®¶ã‹ã‚‰3æ™‚é–“æ­©ã„ã¦ãƒ‡ã‚£ã‚ºãƒ‹ãƒ¼ pic.twitter.com/aV1LcOSscf\n\u0026mdash; ï¼”ï¼–ï¼— (@srn221B) June 20, 2021  æ¥­å‹™ã§Job/Cronjob/Secretã¨ã‹Podã®ç´°ã‹ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³(.spec.restartPolicy/.spec.activeDeadlineSecondsã‚ãŸã‚Š)ã„ã˜ã£ã¦ãŸã€‚ï¼ˆâ€»CKAã§ã¯Job/Cronjobã¯ç¯„å›²ã§ã¯ãªã„ã§ã™ï¼‰ 7æœˆ ã“ã“ã‚‰è¾ºã‹ã‚‰ã€Œå†å—é¨“ã—ãªã„ã¨ã‚„ã°ã„ãªãƒ¼ã€ã¨æ€ã£ã¦ããŸï¼ˆnå›ç›®ï¼‰ã®ã§ã€ãƒ‡ãƒƒãƒ‰ãƒ©ã‚¤ãƒ³8æœˆæœ«ã«ã—ã¦ã€ã—ã£ã‹ã‚Šã¨å‹‰å¼·ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç«‹ã¦ãŸã€‚\næ¨¡è©¦/æœ¬è©¦å«ã‚\nCKAç‰¹æœ‰ã®å•é¡Œï¼ˆKubeletã®Errorã¨ã‹ã€Kube-Controller-Managerã®Errorã¨ã‹ï¼‰ãŒç‰¹ã«ã§ããªã‹ã£ãŸã€‚\nã“ã¨ã‚’æ€ã„å‡ºã—ã¦ã€Kubernetes Componentã®ã“ã¨ã‚ã‹ã£ã¦ã„ãªã‹ã£ãŸãªã€œã¨ãªã£ãŸã®ã§ã€Kubernetes Hardwayã‚’ã‚„ã£ãŸã€‚ï¼ˆã‚ã¨ã€å˜ç´”Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ç’°å¢ƒè‡ªå®…ã«æ¬²ã—ã„ï¼ã¨ãªã£ãŸwï¼‰\nå¤ã®ã‚¤ãƒ«ãƒŸãƒãƒ¼ã‚·ãƒ§ãƒ³2021ã«ãªã£ãŸ pic.twitter.com/lb8Djr0cRT\n\u0026mdash; ï¼”ï¼–ï¼— (@srn221B) July 11, 2021  è²»ç”¨å¤§ä½“ï¼•ä¸‡å††ãã‚‰ã„ã§ï¼‘é€±é–“ã‚‚ã—ãªã„ã§ã§ããŸã—ã€è‡ªåˆ†ã§å„Componentã®è¨­å®šã¨ã‹ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ã‹ã‚’ã™ã‚‹ã“ã¨ã§ã€ã‹ãªã‚Šå‹‰å¼·ã«ãªã£ãŸã—ã€å€‹äººçš„ã«ä¸€ç•ªè‰¯ã„å¯¾ç­–ã«ãªã£ãŸã‚“ã˜ã‚ƒãªã„ã‹ãªã‚ã¨æ€ã£ã¦ã¾ã™ã€‚ã¡ãªã¿ã«å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆã¯ã“ã¡ã‚‰\n8æœˆ å•é¡Œã‚ã‚‹ã”ã¨ã«kubernetes.ioã‚’è¦‹ã¦ã£ã¦ã€kubernetesã®æ“ä½œãŒé…ã„ã‚ˆãªã‚ã¨ã„ã†ã‹ã€æ“ä½œã«æ…£ã‚Œã¦ãªã„ã‚ˆãªã‚\nã¨æ€ã£ãŸã®ã§ã€å‰å—é¨“ã—ãŸæ™‚ã«è³¼å…¥ã—ãŸUdemyã®ã‚³ãƒ¼ã‚¹ã‚’Labã®ã¿ä¸€é€šã‚Šå†åº¦è¡Œã£ãŸã€‚æœŸé–“ã¯ã€å¤å­£ä¼‘æš‡å«ã‚å¤§ä½“10æ—¥ã¨ã‹\n ã¾ãŸKubernetesã®[ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ](https://kubernetes.io/ja/docs/reference/kubectl/cheatsheet/)ã‚‚èª­ã¿ãªãŒã‚‰ã§ãã‚‹ã ã‘æ—©ãæ“ä½œã§ãã‚‹ã‚ˆã†ã«æ„è­˜ã—ãŸã€‚ å€‹äººçš„ã«è¦šãˆã¦ãŠãã¨ã„ã„ã‚‚ã®ã¯ä»¥ä¸‹ãã‚‰ã„ $ alias k=kubectl $ kubectl run \u0026lt;Podname\u0026gt; $ kubectl \u0026lt;run/create etc\u0026gt; -h $ kubectl auth can-i \u0026lt;create/get etc\u0026gt; --as=\u0026lt;Userå/saã ã¨system:serviceaccount:namespace:sa\u0026gt; è©¦é¨“ã¾ã§ã‚ã¨ï¼‘é€±é–“å‰ãã‚‰ã„ã«ãªã£ã¦\nNetworkpolicyå…¨ç„¶ã‚ã‹ã£ã¦ã­ãˆï¼ ã¨ã„ã†ã“ã¨ã«æ°—ä»˜ãã€\n kubernetes-network-policy-recipesã‚’ä¸€é€šã‚Šè¦‹ãŸã€‚Networkpolicyå‹•ã‹ã™ãŸã‚ã«è‡ªå®…ã‚¯ãƒ©ã‚¹ã‚¿ã«NetworkPluginå…¥ã‚ŒãŸã®ã§ã™ãŒã€ãªãœã‹å‹•ã‹ãªã„ã®ã§ï¼ˆèª¿æŸ»ä¸­ï¼‰è„³å†…ã§è§£ãã¾ã—ãŸç¬‘\nã‚ã¨è©¦é¨“å‰æ—¥\n ã“ã‚Œã‚‚ä¸€é€šã‚Šè¦‹ãŸã€‚ã“ã¡ã‚‰ã¯ä¸€éƒ¨ã¯å®Ÿéš›ã«å‹•ã‹ã—ã¦è§£ã„ã¦ã¿ãŸã‚Šã—ã¾ã—ãŸã€‚\nã¾ã¨ã‚ã‚‹ ã¾ã¨ã‚ã‚‹ã¨ç§ãŒã—ãŸå¯¾ç­–ã¯å¤§ããåˆ†ã‘ã‚‹ã¨ä»¥ä¸‹ã®ï¼“ç‚¹ã§ã™ã€‚\n Kubernetes Componentã®ã“ã¨ã‚ã‹ã£ã¦ã„ãªã‹ã£ãŸ  Kubernetes Hardwayã‚’ã‚„ã£ãŸ  ãªãœãã®ä½œæ¥­ãŒå¿…è¦ãªã®ã‹ã‚’è€ƒãˆãªãŒã‚‰ä½œæ¥­ã‚’è¡Œã†ã‚ˆã†ã«ã™ã‚‹     kubectlã®æ“ä½œæ–¹æ³•ã«æ…£ã‚Œã¦ã„ãªã‹ã£ãŸ  Udemyã®Labã‚’ä¸€é€šã‚Šã‚„ã£ã¦æ…£ã‚Œã‚‹  ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆã‚’è¦‹ãªãŒã‚‰ã§ãã‚‹ã ã‘åŠ¹ç‡çš„ã«è¡Œã†ã‚ˆã†ã«ã™ã‚‹     Networkpolicyå…¨ç„¶ã‚ã‹ã£ã¦ã„ãªã‹ã£ãŸ  kubernetes-network-policy-recipesã‚’ä¸€é€šã‚Šè¡Œã†  å•é¡Œæ–‡ã‹ã‚‰Egressï¼Ingressã©ã¡ã‚‰ã§æ§‹æˆã™ã¹ãã‹ã‚’è€ƒãˆãªãŒã‚‰è¡Œã†ã‚ˆã†ã«ã™ã‚‹      çµ‚ã‚ã‚Š ã¾ã¨ã‚ãªãŒã‚‰å‰ä¸åˆæ ¼ã«ãªã£ãŸã®å®Œå…¨ã«å‹‰å¼·ä¸è¶³ãŒåŸå› ã ã£ãŸãªã‚ã¨ï¼ˆãã‚Œã¯ãã†ï¼‰ CKAè©¦é¨“ã¯ï¼‘å›ç›®ä¸åˆæ ¼ã ã£ãŸå ´åˆã¯RetakeãŒç„¡æ–™ã§å¯èƒ½ãªã®ã§ã€ä»Šå›ç‰¹ã«æã™ã‚‹ã“ã¨ãªãï¼’å›ç›®ã‚‚å—ã‘ã‚‰ã‚Œã¾ã—ãŸãŒã€ä»Šåº¦ã‹ã‚‰ã¯ã‚‚ã£ã¨æº–å‚™ã§ãã¦ã„ãªã„æ™‚ã¨ã‹è‡ªä¿¡ãªã„æ™‚ã¨ã‹ã¯ãƒªã‚¹ã‚±ã™ã‚‹ã¨ã‹ã¡ã‚ƒã‚“ã¨ã—ã‚ˆã†ã¨æ€ã„ã¾ã—ãŸã€‚ç¬‘\nã²ã¨ã¾ãšå—ã‹ã£ã¦ã‚ˆã‹ã£ãŸã§ã™ã€‚è©¦é¨“ã®å•é¡Œè‡ªä½“ã¯ã€ç¶²ç¾…ã—ã¦ã„ã¦é›£ã—ã™ããšæ˜“ã—ã™ããšãªæ„Ÿã˜ã§æ¥½ã—ã„\u0026amp;è‡ªå®…ã‹ã‚‰ç°¡å˜ã«å—é¨“ã§ãã‚‹ã®ã§ã€ã¾ãŸæœŸé™åˆ‡ã‚Œã«ãªã£ãŸæ™‚ã«å†åº¦å—ã‘ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚ã‚ã¨CKADã®ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚‚ï¼ï¼\nã§ã¯\n","permalink":"https://467tn.com/blog/content5/","tags":["è³‡æ ¼"],"title":"CKAå—é¨“è¨˜"},{"categories":["æŠ€è¡“"],"contents":"ã“ã‚“ã«ã¡ã¯ ãƒ–ãƒ­ã‚°æ›¸ãã®ä¹…ã€…ã™ãã¦æ›¸ãæ–¹å¿˜ã‚ŒãŸã€‚ã€‚ã€‚ã†ãã§ã™ã€‚\nå»å¹´ã®å’ç ”çµ‚ã‚ã£ãŸã‚ãŸã‚Šã‹ã‚‰ä½œã‚Šå§‹ã‚ãŸã“ã®ã‚µã‚¤ãƒˆã§ã™ãŒã€ã‚ã¾ã‚Šã«ã‚‚åˆæœŸçŠ¶æ…‹ã™ããŸã®ã§ã€é‡ã„è…°ã‚’ã‚ã’ã¦ã€ŒHugoã®themaã‚’BeautifulHugoã‹ã‚‰Cupperã«å¤‰æ›´ã€ã€Œrepositoryã‚’æ•´ç†ã€ã®ï¼’ç‚¹ã‚’ã—ã¾ã—ãŸã€‚ä¸€æ–°ã—ãŸã®ã§ãƒ–ãƒ­ã‚°æ›¸ããƒ¢ãƒãƒ™ã‚‚ã“ã‚Œã§ä¸ŠãŒã‚‹ã¯ãšï¼ˆï¼Ÿï¼‰ä»•äº‹ã‚‚ã ã„ã¶æ…£ã‚Œã¦ããŸã®ã§2022å¹´ã¯äº›ç´°ãªã“ã¨ã§ã‚‚ã‚‚ã†å°‘ã—æ›¸ã„ã¦ã„ããŸã„ãªã€‚ã€‚ã€‚\nã‚¿ã‚¤ãƒˆãƒ«é€šã‚Š ã€ŒDockerã‚’ä½¿ã£ãŸGrafanaã®Datasourceã¨Dashboardã®èµ·å‹•æ™‚è¿½åŠ æ–¹æ³•ã€ã®ãƒ¡ãƒ¢ã‚’ç°¡å˜ã«å‚™å¿˜éŒ²ã¨ã—ã¦ã¾ã¨ã‚ã¦ãŠãã¾ã™ã€‚\nDatasourceã®èµ·å‹•æ™‚è¿½åŠ  Dashboardã®èµ·å‹•æ™‚è¿½åŠ ã‚’è¨­å®šã™ã‚‹å‰ã«ã€ã¾ãšã¯ã“ã£ã¡ã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚\næ§‹æˆ . â”œâ”€â”€ docker-compose.yml â”œâ”€â”€ flask â”‚Â â”œâ”€â”€ Dockerfile â”‚Â â””â”€â”€ app â”‚Â â””â”€â”€ app.py â”œâ”€â”€ grafana â”‚Â â”œâ”€â”€ Dockerfile â”‚Â â””â”€â”€ datasource.yml â””â”€â”€ prometheus.yml ã“ã“ã§ã¯ grafanaã§å¯è¦–åŒ–ã™ã‚‹ã‚µãƒ¼ãƒãƒ¼ã¯prometheusã§ã€prometheusã§ã®ç›£è¦–ã¯flaskã‚’ç”¨ã„ãŸè‡ªä½œexporterã¨ã—ã¦ã„ã¾ã™ã€‚\nflask/Dockerfile FROM ubuntu:latest RUN apt-get update RUN apt-get install python3 python3-pip -y RUN pip3 install flask prometheus-client RUN mkdir /app flask/app.py pythonã®PrometheusClientãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦exporteråŒ–ã—ã¾ã—ã—ãŸã€‚testã—ã‚„ã™ã„ã‚ˆã†ã«curl http://localhost:3000/hogeã§Gaugeå‹ã®metricsãŒå¢—æ¸›ã™ã‚‹exporterã§ã™ã€‚\nfrom flask import Flask,render_template,request import json import queue from werkzeug.middleware.dispatcher import DispatcherMiddleware from prometheus_client import make_wsgi_app,Gauge app = Flask(__name__) G1 = Gauge(\u0026#39;Gauge1\u0026#39;,\u0026#39;Gauge test\u0026#39;) G2 = Gauge(\u0026#39;Gauge2\u0026#39;,\u0026#39;Gauge test\u0026#39;) @app.route(\u0026#39;/upG1\u0026#39;,methods=[\u0026#34;GET\u0026#34;]) def upG1(): G1.inc() return \u0026#34;upG1\u0026#34; @app.route(\u0026#39;/upG2\u0026#39;,methods=[\u0026#34;GET\u0026#34;]) def upG2(): G2.inc() return \u0026#34;upG2\u0026#34; @app.route(\u0026#39;/downG1\u0026#39;,methods=[\u0026#34;GET\u0026#34;]) def downG1(): G1.dec() return \u0026#34;downG1\u0026#34; @app.route(\u0026#39;/downG2\u0026#39;,methods=[\u0026#34;GET\u0026#34;]) def downG2(): G2.dec() return \u0026#34;downG2\u0026#34; app.wsgi_app = DispatcherMiddleware(app.wsgi_app, { \u0026#39;/metrics\u0026#39;: make_wsgi_app() }) if __name__ == \u0026#39;__main__\u0026#39;: G1.set(0) G2.set(0) app.run(host=\u0026#39;0.0.0.0\u0026#39;,port=5000) grafana/Dockerfile ã¨ã‚Šã‚ãˆãšæœ€ä½é™ã€‚\nFROM grafana/grafana:master COPY ./datasource.yml /etc/grafana/provisioning/datasources/ grafana/datasource.yml èµ·å‹•æ™‚è¿½åŠ ã™ã‚‹datasourceã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚è©³ã—ã„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¤ã„ã¦ã¯Grafanaã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚\ndatasources: - name: prometheus type: prometheus access: proxy url: \u0026#34;http://prometheus:9090\u0026#34; # è¤‡æ•°æ›¸ããŸã„å ´åˆã¯ã“ã‚“ãªæ„Ÿã˜ã§ #- name: prometheus # type: prometheus # access: proxy # url: \u0026#34;http://prometheus:9090\u0026#34; prometheus.yml 15ç§’é–“éš”ã§exporterã‹ã‚‰metricsã‚’å–å¾—ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚\nglobal: scrape_interval: 15s evaluation_interval: 15s scrape_configs: - job_name: \u0026#39;prometheus\u0026#39; static_configs: - targets: [\u0026#39;flask:5000\u0026#39;] docker-compose.yml ä¸Šã§æ›¸ã„ã¦ã„ã£ãŸã‚‚ã®ã‚’ã¾ã¨ã‚ã¦ã„ãã¾ã™ã€‚\nversion: \u0026#34;3\u0026#34; services: flask: build: ./flask command: python3 app/app.py volumes: - ./flask/app:/app ports: - 5000:5000 prometheus: image: prom/prometheus volumes: - ./prometheus.yml:/etc/prometheus/prometheus.yml ports: - 9090:9090 grafana: build: ./grafana ports: - 3000:3000 environment: - GF_SECURITY_ADMIN_PASSWORD=password - GF_USERS_ALLOW_SIGN_UP=false èµ·å‹•ç¢ºèª docker-compose buildã¨docker-compose up -dã‚’è¡Œã£ã¦ï¼“ã¤ã®ã‚³ãƒ³ãƒ†ãƒŠãŒç«‹ã¡ä¸ŠãŒã£ã¦ã„ã‚‹ã®ã‚’ç¢ºèªã—ãŸå¾Œã€http://localhost:3000ã§Grafanaã¸æ¥ç¶šã—ã¾ã™ã€‚IDï¼šadminã€PASSWORDï¼špasswordã§sign inã—ã€Configuration\u0026gt;Data Sourcesã«PrometheusãŒã‚ã‚Œã°å®Œäº†ã§ã™ã€‚\nDashboardã®èµ·å‹•æ™‚è¿½åŠ æ–¹æ³•ã«ã¤ã„ã¦ ä¸Šè¨˜DataSourceã®èµ·å‹•æ™‚è¿½åŠ è¨­å®šã‚’ã—ãŸå¾Œã«ã€é€²ã‚ã¦ã„ãã¾ã™ã€‚\næ§‹æˆ â”œâ”€â”€ docker-compose.yml â”œâ”€â”€ flask â”‚Â â”œâ”€â”€ Dockerfile â”‚Â â””â”€â”€ app â”‚Â â””â”€â”€ app.py â”œâ”€â”€ grafana â”‚Â â”œâ”€â”€ Dockerfileã€€#å¤‰æ›´ã—ã¾ã™ â”‚Â â”œâ”€â”€ dashboard.ymlã€€\u0008#ä½œæˆã—ã¾ã™ â”‚Â â”œâ”€â”€ datasource.ymlã€€â”‚Â â””â”€â”€ prometheus #ä½œæˆã—ã¾ã™ â”‚Â â””â”€â”€ \u0026lt;hoge\u0026gt;.jsonã€€#ä½œæˆã—ã¾ã™ â””â”€â”€ prometheus.yml dashboardã®èµ·å‹•æ™‚è¿½åŠ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«dashboard.ymlã€dashboardã®åŸºç›¤ãƒ•ã‚¡ã‚¤ãƒ«\u0026lt;hoge\u0026gt;.jsonã‚’ä½œæˆã—ã€ãã‚Œã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ³ãƒ†ãƒŠã¸ç½®ããŸã‚ã«grafanaã®Dockerfileã‚’å¤‰æ›´ã—ã¾ã™ã€‚\ngrafana/prometheus/.json http://localhost:3000ã§Grafanaã¸æ¥ç¶šã—ã€ Create\u0026gt;Dashboardã§èµ·å‹•æ™‚ã«è¿½åŠ ã—ãŸã„Dashboardã®åŸºç›¤ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚\nShare dashboard\u0026gt;Export\u0026gt;Save to fileã§JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡ºåŠ›ã—ã€./grafana/prometheusé…ä¸‹ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãŠãã¾ã™ã€‚ grafana/dashboard.yml èµ·å‹•æ™‚è¿½åŠ ã™ã‚‹dashboardã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚ã“ã¡ã‚‰ã‚‚ã€è©³ã—ã„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¤ã„ã¦ã¯Grafanaã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚\napiVersion: 1 providers: - name: \u0026#39;prometheus metrics\u0026#39; orgId: 1 folder: \u0026#39;\u0026#39; folderUid: \u0026#39;\u0026#39; type: file disableDeletion: false updateIntervalSeconds: 10 allowUiUpdates: false options: path: /etc/grafana/provisioning/dashboards/prometheus foldersFromFileStructure: true grafana/Dockerfile ä½œæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ³ãƒ†ãƒŠã«ç½®ããŸã‚ã«ä»¥ä¸‹ã«å¤‰æ›´ã€‚\nFROM grafana/grafana:master COPY ./datasource.yml /etc/grafana/provisioning/datasources/ COPY ./dashboard.yml /etc/grafana/provisioning/dashboards/ COPY ./prometheus /etc/grafana/provisioning/dashboards/prometheus èµ·å‹•ç¢ºèª DataSourceã®è¨­å®šã—ãŸæ™‚ã¨åŒã˜ãã€docker-compose buildã¨docker-compose up -dã‚’è¡Œã£ã¦ï¼“ã¤ã®ã‚³ãƒ³ãƒ†ãƒŠãŒç«‹ã¡ä¸ŠãŒã£ã¦ã„ã‚‹ã®ã‚’ç¢ºèªã—ãŸå¾Œã€http://localhost:3000ã§Grafanaã¸æ¥ç¶šã—ã¾ã™ã€‚IDï¼šadminã€PASSWORDï¼špasswordã§sign inã—ã€dashboardsãŒè‡ªå‹•ä½œæˆã•ã‚Œã¦ã„ã‚Œã°å®Œäº†ã§ã™ã€‚\n","permalink":"https://467tn.com/blog/content4/","tags":["Docker","Grafana","Prometheus","Flask"],"title":"Dockerã‚’ä½¿ã£ãŸGrafanaã®Datasourceã¨Dashboardã®èµ·å‹•æ™‚è¿½åŠ æ–¹æ³•"},{"categories":["æŠ€è¡“",""],"contents":"ã‚¿ã‚¤ãƒˆãƒ«é€šã‚Šã€‚zeppelinã‹ã‚‰cassandraã¨sparkã‚’ä½¿ã†ã¾ã§ç°¡å˜ã«æ§‹ç¯‰ãƒ¡ãƒ¢ã€‚ kubernetesã¨helm 3.3.1ã‚’ä½¿ã£ã¦æ§‹ç¯‰ã™ã‚‹ã€‚sparkã¨zeppelinã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«â†’Cassandraã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®æµã‚Œã§èª¬æ˜ã€‚\nPodå˜ä½ã§å¼„ã‚Œã‚‹ãŒç‚ºã ã‘ã«kubernetesã‚’ä½¿ã„ã¾ã™ã€‚Namespaceåˆ†ã‘ãŸã‚ŠIngressè¿½åŠ ã—ãŸã‚Šãªã©IaCãªã‚‰ã§ã¯ã®æ©Ÿèƒ½ã‚’æ´»ã‹ã—ãŸå®Ÿè£…ã¯ã“ã“ã§ã¯ã—ã¾ã›ã‚“ã€‚æ‚ªã—ã‹ã‚‰ãšã€‚\nsparkã¨zeppelin  ãƒªãƒã‚¸ãƒˆãƒªã¯ã“ã‚Œ ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã€MasterPod1å°ã€WorkerPod1å°ãŒå‹•ãã€‚ Zepplinä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§è¨˜æ†¶ã•ã‚Œã‚‹ã€‚  values.yamlã«ãŠã„ã¦ServicePortã®ç·¨é›†  ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ã ã¨sparkWebUIã¨zeppelinã®ServicePortãŒç«¶åˆã™ã‚‹ã€‚ãªã®ã§ã€ã©ã¡ã‚‰ã‹ã®ServicePortã‚’å¤‰æ›´ã™ã‚‹ã€‚ ã“ã“ã§ã¯sparkWebUIã®ServicePortã‚’8080ã‹ã‚‰8081ã«å¤‰æ›´ã™ã‚‹ã€‚  $ vim spark/values.yaml ... WebUi: Name: webui ServicePort: 8081 ContainerPort: 8080 ... ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« $ helm install spark ./spark ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª  defaultã®namespaceã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã€‚  $ kubectl get pod spark-master-877d79587-shv7g 1/1 Running spark-worker-87d4579f4-7fsg4 1/1 Running spark-worker-87d4579f4-lb7ft 1/1 Running spark-worker-87d4579f4-tvcnb 1/1 Running spark-zeppelin-85d6c884d8-289mb 1/1 Running zeppelinã¨SparkWebUIã«ã‚¢ã‚¯ã‚»ã‚¹ã®ç¢ºèª  ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã‹ã‚‰localhost:8080ã¨localhost:8081ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¸ã®ç¢ºèªãŒã§ãã‚Œã°å®Œäº†ã€‚\n  cassandra  ãƒªãƒã‚¸ãƒˆãƒªã¯ã“ã‚Œ user/passwordã‚’è¨­å®šã—ã‚„ã™ãã†ã ã£ãŸã®ã§bitnamiã‚’é¸æŠã€‚  values.yamlã«ãŠã„ã¦user/passwordã®ç·¨é›†  ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ã ã¨userã¯cassandraã€passwordã¯ãƒ©ãƒ³ãƒ€ãƒ ã§ä½œã‚‰ã‚Œã‚‹ã€‚ãªã®ã§ã€æŒ‡å®šã—ãŸã‚‚ã®ã§ä½œã‚‰ã‚Œã‚‹ã‚ˆã†ã«è¨­å®šã™ã‚‹ã€‚ ã“ã“ã§ã¯userã‚’cassandraã€passwordã‚’cassandraã¨ã™ã‚‹ã€‚  ... dbUser: user: cassandra forcePassword: false password: cassandra ... ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« $ helm install cassandra ./cassandra ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª  defaultã®namespaceã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã€‚  $ kubectl get pod -n default cassandra-0 1/1 Running Zeppelinä¸Šã®Cassandraã®Interpreter  zeppelinã‹ã‚‰cassandraã¸æ¥ç¶šã™ã‚‹ç‚ºã®è¨­å®šã‚’å¤‰æ›´ã€‚  cassandraãŒå‹•ã„ã¦ã„ã‚‹ClusterIPã‚’ç¢ºèª $ kubectl get svc NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE cassandra ClusterIP 10.99.62.208 \u0026lt;none\u0026gt; 9042/TCP,9160/TCP,8080/TCP 1d Interpreterã®è¨­å®šå¤‰æ›´  ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã‹ã‚‰http://localhost:8080/#/interpreterã‚’é–‹ãã€‚ ä¸Šè¨˜ã§ç¢ºèªã—ãŸæƒ…å ±ã‚’å…ƒã«cassandra.credentials.passwordã€cassandra.credentials.usernameã€cassandra.hostã€cassandra.native.portã®è¨­å®šã‚’å¤‰æ›´ã€‚\n  å®Œäº†ç¢ºèª ","permalink":"https://467tn.com/blog/content3/","tags":["spark","zeppelin","kubernetes","cassandra"],"title":"zeppelinã‹ã‚‰cassandraã¨sparkã‚’ä½¿ã†"},{"categories":["æŠ€è¡“"],"contents":"å‰å›ã«å¼•ãç¶šãSparkç’°å¢ƒæ§‹ç¯‰ç³»ã®ãŠã¯ãªã—ã€‚\nScalaã€ä½•ã§é–‹ç™ºã—ã¦ã¾ã™ã‹\nVScodeï¼ŒAtomãªã©ã®ã‚¨ãƒ‡ã‚£ã‚¿ã‚„Eclipseï¼ŒNetBeansãªã©ã®IDEï¼Œé–‹ç™ºå†…å®¹ã«ã‚ˆã£ã¦æ§˜ã€…ã ã¨æ€ã„ã¾ã™ã€‚\nè‡ªåˆ†ã¯ç°¡å˜ãªã‚³ãƒ¼ãƒ‰ã ã¨Scala(Metals)ã¨ScalaSnippetsã®æ‹¡å¼µæ©Ÿèƒ½ã‚’å…¥ã‚Œã¦Vscodeã‚’åˆ©ç”¨ï¼ŒPluginã‚’åˆ©ç”¨ã™ã‚‹ã‚‚ã®ã ã£ãŸã‚Šè¤‡é›‘ãªã‚³ãƒ¼ãƒ‰ã ã¨IntelliJ IDEAã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚\nSparkã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’IntelliJ IDEAã§é–‹ç™ºã™ã‚‹æ–¹æ³•ãŒã¨ã¦ã‚‚ä¾¿åˆ©ã ã£ãŸã®ã§è¨˜éŒ²ã«æ®‹ã—ã¦ãŠãã¾ã™ã€‚\nå‰ææ¡ä»¶  Spark2.4ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ IntelliJIDEAãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ IntelliJIDEAã§Scalaã‚’é–‹ç™ºã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã“ã¨ Java8ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ JDK8ã‚’ç”¨ã„ã¦é–‹ç™ºã§ãã‚‹ã“ã¨\nï¼ˆ[File]=\u0026gt;[Project Structure\u0026hellip;]=\u0026gt;å·¦ã‚«ãƒ©ãƒ ã®SDKsã‚’é¸æŠ=\u0026gt;JDKhomepathã‚’å¤‰æ›´ã‹ã‚‰JDKã®è¿½åŠ ã¯ã§ãã¾ã™ï¼‰  ç’°å¢ƒ  OSï¼šMac Sparkï¼š2.4.5 IntelliJIDEAï¼š2019.3  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ Scala=\u0026gt;sbt ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\nNameï¼ŒLocationï¼šä»»æ„\nJDKï¼š1.8\nsbtï¼ŒScalaï¼šç¾åœ¨å®‰å®šã—ã¦å‹•ãã‚‚ã®ï¼ˆã“ã“ã§ã¯sbt1.2.8ï¼ŒScala2.11.0ï¼‰\nå…¥åŠ›ãŒçµ‚ã‚ã£ãŸã‚‰[Finish]ã‚’æŠ¼ã—ã¾ã™ã€‚\nSparkã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ targetã®é…ä¸‹ã«ã‚ã‚‹build.sbtã«Sparkã®Pluginã‚’è¿½åŠ ã—ã¾ã™ã€‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãªã©ã¯MVNREPOSITORYã‚µã‚¤ãƒˆã‚’å‚è€ƒã«ã—ã¾ã™ã€‚\nname := \u0026#34;sparktest\u0026#34; version := \u0026#34;0.1\u0026#34; scalaVersion := \u0026#34;2.11.0\u0026#34; libraryDependencies ++= Seq( \u0026#34;org.apache.spark\u0026#34; %% \u0026#34;spark-core\u0026#34; % \u0026#34;2.4.0\u0026#34;, \u0026#34;org.apache.spark\u0026#34; %% \u0026#34;spark-sql\u0026#34; % \u0026#34;2.4.0\u0026#34;, \u0026#34;org.apache.spark\u0026#34; %% \u0026#34;spark-mllib\u0026#34; % \u0026#34;2.4.3\u0026#34;, \u0026#34;org.apache.spark\u0026#34; %% \u0026#34;spark-graphx\u0026#34; % \u0026#34;2.4.0\u0026#34;, \u0026#34;org.apache.spark\u0026#34; %% \u0026#34;spark-streaming\u0026#34; % \u0026#34;2.4.0\u0026#34; ) ç„¡äº‹ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒæˆåŠŸã—ãŸã‚‰Sparkç’°å¢ƒã¯å®Œäº†ã§ã™ã€‚\nã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° src=\u0026gt;main=\u0026gt;scalaã‚’å³ã‚¯ãƒªãƒƒã‚¯ã€€New=\u0026gt;Scala Classã§ä»»æ„ã®åå‰[Class]ã‚’ä½œæˆã—ã¾ã™ã€‚\nMain.scalaã‚’ç·¨é›†ã—ã¾ã™ã€‚ã“ã“ã§ã¯JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’å˜èªé›†è¨ˆã—ãŸã‚‚ã®ã‚’ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nimport org.apache.spark.{SparkConf, SparkContext} import com.fasterxml.jackson.databind.ObjectMapper import com.fasterxml.jackson.module.scala.DefaultScalaModule object example { def main(args: Array[String]): Unit = { // Sessionã®ç”Ÿæˆ  val conf = new SparkConf().setAppName(\u0026#34;appname\u0026#34;).setMaster(\u0026#34;local[*]\u0026#34;) val sc = new SparkContext(conf) val jsonLines = sc.parallelize(Array( \u0026#34;\u0026#34;\u0026#34;{\u0026#34;name\u0026#34; : \u0026#34;Apple\u0026#34;,\u0026#34;num\u0026#34;: 1}\u0026#34;\u0026#34;\u0026#34;, \u0026#34;\u0026#34;\u0026#34;{\u0026#34;name\u0026#34; : \u0026#34;Orange\u0026#34;,\u0026#34;num\u0026#34;: 4}\u0026#34;\u0026#34;\u0026#34;, \u0026#34;\u0026#34;\u0026#34;{\u0026#34;name\u0026#34; : \u0026#34;Apple\u0026#34;,\u0026#34;num\u0026#34;: 2}\u0026#34;\u0026#34;\u0026#34;, \u0026#34;\u0026#34;\u0026#34;{\u0026#34;name\u0026#34; : \u0026#34;Peach\u0026#34;,\u0026#34;num\u0026#34;: 1}\u0026#34;\u0026#34;\u0026#34; )) val result = jsonLines.mapPartitions {lines =\u0026gt; //JSONã®ãƒ‘ãƒ¼ã‚µã‚’åˆæœŸåŒ–  val mapper = new ObjectMapper() mapper.registerModule(DefaultScalaModule) //JSONæ–‡å­—åˆ—ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã€\u0026#34;name\u0026#34;ã¨\u0026#34;num\u0026#34;ã®ãƒšã‚¢ã§è¿”å´  lines.map {line =\u0026gt; val f = mapper.readValue(line,classOf[Map[String,String]]) (f(f\u0026#34;name\u0026#34;),f(\u0026#34;num\u0026#34;)) } } // savedirã«é›†è¨ˆçµæœã‚’ä¿å­˜  result.saveAsTextFile(\u0026#34;savedir\u0026#34;) } } å®Ÿè¡Œ Terminalä¸Šã§jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\n$ sbt package spark-submitã‚’ä½¿ã£ã¦å®Ÿè¡Œ\n$ $SPARK_HOME/bin/spark-submit savedirä¸Šã«é›†è¨ˆçµæœãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚\n$ cat savedir_part* (Apple,1) (Orange,4) (Apple,2) (Peach,1) çµ‚ã‚ã‚Š å®Ÿè¡Œæ¯ã«spark-submitã€œã¨æ‰“ã¤ã®ã¯ç…©é›‘ã§ã™ãŒã€äºˆæ¸¬å€™è£œãŒå‡ºã¦ãã‚‹ã®ã¯é–‹ç™ºã™ã‚‹ä¸Šã§ã®å¬‰ã—ã„ï¼†åŠ©ã‹ã‚‹æ©Ÿèƒ½ã§ã™ğŸ¥°\n","permalink":"https://467tn.com/blog/content2/","tags":["spark","IntelliJIDEA"],"title":"IntelliJ IDEAã§ã®Sparkã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºæ–¹æ³•ï¼ˆScalaç·¨ï¼‰"},{"categories":["æŠ€è¡“"],"contents":"ä»Šã¾ã§pysparkã‚’ã„ã˜ã‚‹ã¨ãã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒãƒãƒãƒã‚„ã£ã¦ã„ãŸã®ã§ã™ãŒã€ pythonã‚’jupyter-notebookã§é–‹ç™ºã—ã¦ã„ã‚‹ã¨ãã«ä¾¿åˆ©ã ãªã‚ã¨æ€ã£ãŸã®ã§ã€æ€ã„åˆ‡ã£ã¦pysparkã‚’ã„ã˜ã‚‹ã¨ãã‚‚jupyter-notebookã‚’ä½¿ã†ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚ãã®æ™‚ã®å‚™å¿˜éŒ²ã€‚\nå‰ææ¡ä»¶  SparkãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ï¼ˆã“ã®è¨˜äº‹ãŒã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã§ã™ã€‚) jupyterãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨(pipã¾ãŸã¯condaã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«)  ç’°å¢ƒ  OSï¼šMac pythonï¼šPython 3.7.6 Sparkï¼š2.4.5 jupyter-notebookï¼š6.0.3  Sparkã®è¨­å®š Sparkä¸Šã®ç’°å¢ƒãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ(spark-env-sh.template)ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚\n$ cd $SPARK_HOME/conf $ cp spark-env.sh.template spark-env.sh ã‚³ãƒ”ãƒ¼ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ãæ›ãˆã¦ã„ãã¾ã™ã€‚\n$ vim spark-env.sh $ export PYSPARK_PYTHON=/usr/local/bin/python3 #pythonã®å ´æ‰€ $ export PYSPARK_DRIVER_PYTHON=jupyter $ export PYSPARK_DRIVER_PYTHON_OPTS=\u0026#34;notebook\u0026#34; ç’°å¢ƒå¤‰æ•°ã®è¨­å®š ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’.bashrc,.bash_profileã«æ›¸ãã¾ã™ã€‚\nvim ~/.bashrc ... SPARK_HOME=#Sparkã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸå ´æ‰€ PATH=$SPARK_HOME/bin:$PATH ... å‹•ä½œç¢ºèª æ—©é€Ÿã€jupyterã‚’ä½¿ã£ã¦ç°¡å˜ãªæ¼”ç®—ã‚’å®Ÿè£…ã—ã¦è¦‹ã¾ã™ã€‚\n$ pyspark http://localhost:8888/?token= *Token*ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ http://localhost:8888/loginã‚’é–‹ãã¾ã™ã€‚è¡¨ç¤ºã•ã‚ŒãŸTokenã‚’å…ƒã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚\nPythonãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™ï¼ˆNew\u0026gt;python3ï¼‰\nä»¥ä¸‹ã®ã‚ˆã†ã«sc(SparkSession)ãŒä½¿ãˆã¦ã„ãŸã‚‰å®Œäº†ã€‚\nçµ‚ã‚ã‚Š å¿«é©ãªé–‹ç™ºç’°å¢ƒãŒæ•´ã„ã¾ã—ãŸ:heart_eyes:\n","permalink":"https://467tn.com/blog/content1/","tags":["pyspark","jupyter"],"title":"pysparkã‚’jupyter-notebookã‹ã‚‰ä½¿ã†"}]